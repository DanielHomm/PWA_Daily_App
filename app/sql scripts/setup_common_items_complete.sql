-- Complete Setup for Common Items with Bilingual Support (EN/DE)

-- 1. Create Items Table (if not exists)
create table if not exists common_items (
  id uuid default gen_random_uuid() primary key,
  name text not null unique, -- English Name (Unique Constraint)
  name_de text,              -- German Name
  category_name text not null,
  default_unit text default 'units',
  icon text,
  created_at timestamp with time zone default now()
);

-- 2. Add Index for German Search
create index if not exists common_items_name_de_idx on common_items (name_de);

-- 3. RLS
alter table common_items enable row level security;
drop policy if exists "Common items are public" on common_items;
create policy "Common items are public" on common_items for select using (true);

-- 4. Seed Data (Upsert)
insert into common_items (name, name_de, category_name, default_unit, icon) values
-- Dairy & Alternatives
('Milk', 'Milch', 'Dairy & Cheese', 'l', 'ğŸ¥›'),
('Cheese', 'KÃ¤se', 'Dairy & Cheese', 'kg', 'ğŸ§€'),
('Butter', 'Butter', 'Dairy & Cheese', 'g', 'ğŸ§ˆ'),
('Yogurt', 'Joghurt', 'Dairy & Cheese', 'g', 'ğŸ¥£'),
('Cream', 'Sahne', 'Dairy & Cheese', 'ml', 'ğŸ¥›'),
('Eggs', 'Eier', 'Dairy & Cheese', 'pcs', 'ğŸ¥š'),
('Mozzarella', 'Mozzarella', 'Dairy & Cheese', 'pack', 'ğŸ§€'),
('Cheddar', 'Cheddar', 'Dairy & Cheese', 'pack', 'ğŸ§€'),
('Parmesan', 'Parmesan', 'Dairy & Cheese', 'pack', 'ğŸ§€'),
('Feta', 'Feta', 'Dairy & Cheese', 'pack', 'ğŸ§€'),
('Gouda', 'Gouda', 'Dairy & Cheese', 'pack', 'ğŸ§€'),
('Brie', 'Brie', 'Dairy & Cheese', 'pack', 'ğŸ§€'),
('Almond Milk', 'Mandelmilch', 'Dairy & Cheese', 'l', 'ğŸ¥›'),
('Oat Milk', 'Hafermilch', 'Dairy & Cheese', 'l', 'ğŸ¥›'),
('Soy Milk', 'Sojamilch', 'Dairy & Cheese', 'l', 'ğŸ¥›'),
('Sour Cream', 'Sauerrahm', 'Dairy & Cheese', 'pack', 'ğŸ¥£'),
('Cottage Cheese', 'HÃ¼ttenkÃ¤se', 'Dairy & Cheese', 'pack', 'ğŸ¥£'),
('Whipping Cream', 'Schlagsahne', 'Dairy & Cheese', 'ml', 'ğŸ¥›'),
('Greek Yogurt', 'Griechischer Joghurt', 'Dairy & Cheese', 'pack', 'ğŸ¥£'),
('Ice Cream', 'Eiscreme', 'Dairy & Cheese', 'pack', 'ğŸ¦'),

-- Produce (Fruits)
('Bananas', 'Bananen', 'Produce', 'kg', 'ğŸŒ'),
('Apples', 'Ã„pfel', 'Produce', 'kg', 'ğŸ'),
('Tomatoes', 'Tomaten', 'Produce', 'kg', 'ğŸ…'),
('Lemons', 'Zitronen', 'Produce', 'pcs', 'ğŸ‹'),
('Limes', 'Limetten', 'Produce', 'pcs', 'ğŸ‹'),
('Grapes', 'Trauben', 'Produce', 'kg', 'ğŸ‡'),
('Melon', 'Melone', 'Produce', 'pcs', 'ğŸˆ'),
('Watermelon', 'Wassermelone', 'Produce', 'pcs', 'ğŸ‰'),
('Oranges', 'Orangen', 'Produce', 'kg', 'ğŸŠ'),
('Mandarins', 'Mandarinen', 'Produce', 'kg', 'ğŸŠ'),
('Pears', 'Birnen', 'Produce', 'kg', 'ğŸ'),
('Peaches', 'Pfirsiche', 'Produce', 'kg', 'ğŸ‘'),
('Cherries', 'Kirschen', 'Produce', 'kg', 'ğŸ’'),
('Strawberries', 'Erdbeeren', 'Produce', 'pack', 'ğŸ“'),
('Blueberries', 'Blaubeeren', 'Produce', 'pack', 'ğŸ«'),
('Kiwis', 'Kiwis', 'Produce', 'pcs', 'ğŸ¥'),
('Mango', 'Mango', 'Produce', 'pcs', 'ğŸ¥­'),
('Pineapple', 'Ananas', 'Produce', 'pcs', 'ğŸ'),
('Coconut', 'Kokosnuss', 'Produce', 'pcs', 'ğŸ¥¥'),
('Plums', 'Pflaumen', 'Produce', 'kg', 'ğŸ«'),
('Apricots', 'Aprikosen', 'Produce', 'kg', 'ğŸ‘'),
('Raspberries', 'Himbeeren', 'Produce', 'pack', 'ğŸ«'),
('Blackberries', 'Brombeeren', 'Produce', 'pack', 'ğŸ«'),
('Pomegranate', 'Granatapfel', 'Produce', 'pcs', 'ğŸ«'),
('Grapefruit', 'Grapefruit', 'Produce', 'pcs', 'ğŸŠ'),
('Avocado', 'Avocado', 'Produce', 'pcs', 'ğŸ¥‘'),

-- Produce (Vegetables)
('Potatoes', 'Kartoffeln', 'Produce', 'kg', 'ğŸ¥”'),
('Onions', 'Zwiebeln', 'Produce', 'kg', 'ğŸ§…'),
('Carrots', 'Karotten', 'Produce', 'kg', 'ğŸ¥•'),
('Lettuce', 'Salat', 'Produce', 'pcs', 'ğŸ¥¬'),
('Cucumber', 'Gurke', 'Produce', 'pcs', 'ğŸ¥’'),
('Garlic', 'Knoblauch', 'Produce', 'pcs', 'ğŸ§„'),
('Bell Pepper', 'Paprika', 'Produce', 'pcs', 'ğŸ«‘'),
('Chili Pepper', 'Chili', 'Produce', 'pcs', 'ğŸŒ¶ï¸'),
('Corn', 'Mais', 'Produce', 'pcs', 'ğŸŒ½'),
('Spinach', 'Spinat', 'Produce', 'bag', 'ğŸ¥¬'),
('Kale', 'GrÃ¼nkohl', 'Produce', 'bag', 'ğŸ¥¬'),
('Broccoli', 'Brokkoli', 'Produce', 'pcs', 'ğŸ¥¦'),
('Cauliflower', 'Blumenkohl', 'Produce', 'pcs', 'ğŸ¥¦'),
('Mushrooms', 'Pilze', 'Produce', 'pack', 'ğŸ„'),
('Eggplant', 'Aubergine', 'Produce', 'pcs', 'ğŸ†'),
('Zucchini', 'Zucchini', 'Produce', 'pcs', 'ğŸ¥’'),
('Sweet Potato', 'SÃ¼ÃŸkartoffel', 'Produce', 'kg', 'ğŸ¥”'),
('Pumpkin', 'KÃ¼rbis', 'Produce', 'pcs', 'ğŸƒ'),
('Radish', 'Radieschen', 'Produce', 'pack', 'ğŸ¥—'),
('Asparagus', 'Spargel', 'Produce', 'pack', 'ğŸ¥¬'),
('Green Beans', 'GrÃ¼ne Bohnen', 'Produce', 'kg', 'ğŸ¥¬'),
('Peas', 'Erbsen', 'Produce', 'bag', 'ğŸ«›'),
('Cabbage', 'Kohl', 'Produce', 'pcs', 'ğŸ¥¬'),
('Brussels Sprouts', 'Rosenkohl', 'Produce', 'bag', 'ğŸ¥¬'),
('Celery', 'Staudensellerie', 'Produce', 'pcs', 'ğŸ¥¬'),
('Ginger', 'Ingwer', 'Produce', 'g', 'ğŸ«š'),
('Fresh Herbs', 'Frische KrÃ¤uter', 'Produce', 'pack', 'ğŸŒ¿'),
('Basil', 'Basilikum', 'Produce', 'pack', 'ğŸŒ¿'),
('Cilantro', 'Koriander', 'Produce', 'pack', 'ğŸŒ¿'),
('Parsley', 'Petersilie', 'Produce', 'pack', 'ğŸŒ¿'),
('Mint', 'Minze', 'Produce', 'pack', 'ğŸŒ¿'),

-- Meat & Fish
('Chicken Breast', 'HÃ¤hnchenbrust', 'Meat & Fish', 'kg', 'ğŸ—'),
('Ground Beef', 'Hackfleisch', 'Meat & Fish', 'kg', 'ğŸ¥©'),
('Salmon', 'Lachs', 'Meat & Fish', 'kg', 'ğŸŸ'),
('Bacon', 'Speck', 'Meat & Fish', 'g', 'ğŸ¥“'),
('Sausages', 'WÃ¼rstchen', 'Meat & Fish', 'pcs', 'ğŸŒ­'),
('Steak', 'Steak', 'Meat & Fish', 'kg', 'ğŸ¥©'),
('Pork Chop', 'Kotelett', 'Meat & Fish', 'kg', 'ğŸ¥©'),
('Lamb', 'Lamm', 'Meat & Fish', 'kg', 'ğŸ¥©'),
('Turkey', 'Pute', 'Meat & Fish', 'kg', 'ğŸ¦ƒ'),
('Whole Chicken', 'Ganzes HÃ¤hnchen', 'Meat & Fish', 'pcs', 'ğŸ—'),
('Chicken Wings', 'HÃ¤hnchenflÃ¼gel', 'Meat & Fish', 'kg', 'ğŸ—'),
('Chicken Thighs', 'HÃ¤hnchenschenkel', 'Meat & Fish', 'kg', 'ğŸ—'),
('Tuna (Fresh)', 'Thunfisch (Frisch)', 'Meat & Fish', 'kg', 'ğŸŸ'),
('Cod', 'Kabeljau', 'Meat & Fish', 'kg', 'ğŸŸ'),
('Shrimp', 'Garnelen', 'Meat & Fish', 'bag', 'ğŸ¦'),
('Crab', 'Krabben', 'Meat & Fish', 'pcs', 'ğŸ¦€'),
('Lobster', 'Hummer', 'Meat & Fish', 'pcs', 'ğŸ¦'),
('Oysters', 'Austern', 'Meat & Fish', 'pcs', 'ğŸ¦ª'),
('Ham', 'Schinken', 'Meat & Fish', 'pack', 'ğŸ–'),
('Salami', 'Salami', 'Meat & Fish', 'pack', 'ğŸ–'),
('Pepperoni', 'Peperoniwurst', 'Meat & Fish', 'pack', 'ğŸ•'),

-- Vegetarian & Vegan
('Tofu (Firm)', 'Tofu (Natur)', 'Produce', 'pack', 'ğŸ§Š'), 
('Tofu (Silken)', 'Seidentofu', 'Produce', 'pack', 'ğŸ§Š'),
('Tempeh', 'Tempeh', 'Produce', 'pack', 'ğŸ«˜'),
('Seitan', 'Seitan', 'Produce', 'pack', 'ğŸŒ¾'),
('Veggie Burger', 'Veggie Burger', 'Meat & Fish', 'pack', 'ğŸ”'),
('Hummus', 'Hummus', 'Dairy & Cheese', 'pack', 'ğŸ¥™'),
('Falafel', 'Falafel', 'Produce', 'pack', 'ğŸ§†'),
('Soy Mince', 'Soja Hack', 'Pantry & Dry Goods', 'pack', 'ğŸ«˜'),
('Nutritional Yeast', 'Hefeflocken', 'Pantry & Dry Goods', 'pack', 'ğŸ§€'),

-- Bakery
('Bread', 'Brot', 'Bakery', 'pcs', 'ğŸ'),
('Toast', 'Toast', 'Bakery', 'pcs', 'ğŸ'),
('Croissant', 'Croissant', 'Bakery', 'pcs', 'ğŸ¥'),
('Bagels', 'Bagels', 'Bakery', 'pcs', 'ğŸ¥¯'),

-- Pantry
('Rice', 'Reis', 'Pantry & Dry Goods', 'kg', 'ğŸš'),
('Pasta', 'Nudeln', 'Pantry & Dry Goods', 'kg', 'ğŸ'),
('Flour', 'Mehl', 'Pantry & Dry Goods', 'kg', 'ğŸ¥¡'),
('Sugar', 'Zucker', 'Pantry & Dry Goods', 'kg', 'ğŸ§‚'),
('Salt', 'Salz', 'Pantry & Dry Goods', 'g', 'ğŸ§‚'),
('Olive Oil', 'OlivenÃ¶l', 'Pantry & Dry Goods', 'l', 'ğŸ«’'),
('Cereal', 'MÃ¼sli', 'Pantry & Dry Goods', 'box', 'ğŸ¥£'),
('Tomato Sauce', 'Tomatensauce', 'Pantry & Dry Goods', 'jar', 'ğŸ¥«'),
('Coffee', 'Kaffee', 'Pantry & Dry Goods', 'g', 'â˜•'),
('Tea', 'Tee', 'Pantry & Dry Goods', 'box', 'ğŸµ'),
('Beans (Canned)', 'Bohnen (Dose)', 'Pantry & Dry Goods', 'can', 'ğŸ¥«'),
('Lentils', 'Linsen', 'Pantry & Dry Goods', 'pack', 'ğŸ«˜'),
('Chickpeas', 'Kichererbsen', 'Pantry & Dry Goods', 'can', 'ğŸ«˜'),
('Quinoa', 'Quinoa', 'Pantry & Dry Goods', 'pack', 'ğŸŒ¾'),
('Oats', 'Haferflocken', 'Pantry & Dry Goods', 'pack', 'ğŸŒ¾'),
('Granola', 'KnuspermÃ¼sli', 'Pantry & Dry Goods', 'pack', 'ğŸ¥£'),
('Peanut Butter', 'Erdnussbutter', 'Pantry & Dry Goods', 'jar', 'ğŸ¥œ'),
('Jam', 'Marmelade', 'Pantry & Dry Goods', 'jar', 'ğŸ“'),
('Honey', 'Honig', 'Pantry & Dry Goods', 'jar', 'ğŸ¯'),
('Maple Syrup', 'Ahornsirup', 'Pantry & Dry Goods', 'bottle', 'ğŸ'),
('Vinegar', 'Essig', 'Pantry & Dry Goods', 'bottle', 'ğŸ¾'),
('Soy Sauce', 'Sojasauce', 'Pantry & Dry Goods', 'bottle', 'ğŸ¥¢'),
('Hot Sauce', 'Scharfe Sauce', 'Pantry & Dry Goods', 'bottle', 'ğŸŒ¶ï¸'),
('Mayonnaise', 'Mayonnaise', 'Pantry & Dry Goods', 'jar', 'ğŸ¥š'),
('Ketchup', 'Ketchup', 'Pantry & Dry Goods', 'bottle', 'ğŸ…'),
('Mustard', 'Senf', 'Pantry & Dry Goods', 'bottle', 'ğŸŒ­'),
('BBQ Sauce', 'BBQ Sauce', 'Pantry & Dry Goods', 'bottle', 'ğŸ–'),
('Spices', 'GewÃ¼rze', 'Pantry & Dry Goods', 'jar', 'ğŸ§‚'),
('Pepper', 'Pfeffer', 'Pantry & Dry Goods', 'g', 'ğŸ§‚'),
('Cinnamon', 'Zimt', 'Pantry & Dry Goods', 'g', 'ğŸ§‚'),
('Vanilla Extract', 'Vanilleextrakt', 'Pantry & Dry Goods', 'bottle', 'ğŸ¦'),
('Baking Powder', 'Backpulver', 'Pantry & Dry Goods', 'pack', 'ğŸ‚'),
('Yeast', 'Hefe', 'Pantry & Dry Goods', 'pack', 'ğŸ'),
('Chocolate Chips', 'Schokostreusel', 'Pantry & Dry Goods', 'pack', 'ğŸª'),
('Soup (Canned)', 'Suppe (Dose)', 'Pantry & Dry Goods', 'can', 'ğŸ¥£'),
('Tuna (Canned)', 'Thunfisch (Dose)', 'Pantry & Dry Goods', 'can', 'ğŸŸ'),
('Noodles', 'Instant Nudeln', 'Pantry & Dry Goods', 'pack', 'ğŸœ'),

-- Snacks
('Chips', 'Chips', 'Snacks', 'bag', 'ğŸŸ'),
('Chocolate', 'Schokolade', 'Snacks', 'g', 'ğŸ«'),
('Cookies', 'Kekse', 'Snacks', 'pack', 'ğŸª'),
('Nuts', 'NÃ¼sse', 'Snacks', 'g', 'ğŸ¥œ'),
('Popcorn', 'Popcorn', 'Snacks', 'bag', 'ğŸ¿'),
('Pretzels', 'Brezeln', 'Snacks', 'bag', 'ğŸ¥¨'),
('Crackers', 'Cracker', 'Snacks', 'box', 'ğŸ˜'),
('Candy', 'SÃ¼ÃŸigkeiten', 'Snacks', 'pack', 'ğŸ¬'),
('Gum', 'Kaugummi', 'Snacks', 'pack', 'ğŸ¬'),
('Dried Fruit', 'Trockenobst', 'Snacks', 'pack', 'ğŸ¥­'),

-- Beverages
('Water', 'Wasser', 'Beverages', 'l', 'ğŸ’§'),
('Juice', 'Saft', 'Beverages', 'l', 'ğŸ§ƒ'),
('Soda', 'Limo', 'Beverages', 'can', 'ğŸ¥¤'),
('Beer', 'Bier', 'Beverages', 'bottle', 'ğŸº'),
('Wine', 'Wein', 'Beverages', 'bottle', 'ğŸ·'),
('Tea Bags', 'Teebeutel', 'Beverages', 'box', 'ğŸµ'),
('Energy Drink', 'Energy Drink', 'Beverages', 'can', 'âš¡'),
('Iced Tea', 'Eistee', 'Beverages', 'bottle', 'ğŸ¹'),
('Sparkling Water', 'Sprudelwasser', 'Beverages', 'bottle', 'ğŸ«§'),
('Smoothie', 'Smoothie', 'Beverages', 'bottle', 'ğŸ¥¤'),

-- Frozen
('Frozen Pizza', 'TiefkÃ¼hlpizza', 'Frozen', 'pcs', 'ğŸ•'),
('Frozen Peas', 'TK Erbsen', 'Frozen', 'bag', 'â„ï¸'),
('Frozen Berries', 'TK Beeren', 'Frozen', 'bag', 'ğŸ“'),
('Frozen Fries', 'Pommes Frites', 'Frozen', 'bag', 'ğŸŸ'),
('Ice Cubes', 'EiswÃ¼rfel', 'Frozen', 'bag', 'ğŸ§Š'),

-- Household
('Toilet Paper', 'Toilettenpapier', 'Household & Cleaning', 'pack', 'ğŸ§»'),
('Paper Towels', 'KÃ¼chenrolle', 'Household & Cleaning', 'roll', 'ğŸ§»'),
('Dish Soap', 'SpÃ¼lmittel', 'Household & Cleaning', 'bottle', 'ğŸ§¼'),
('Laundry Detergent', 'Waschmittel', 'Household & Cleaning', 'bottle', 'ğŸ§º'),
('Trash Bags', 'MÃ¼llbeutel', 'Household & Cleaning', 'box', 'ğŸ—‘ï¸'),
('Insects Spray', 'Insektenspray', 'Household & Cleaning', 'can', 'ğŸª³'),
('Light Bulbs', 'GlÃ¼hbirnen', 'Household & Cleaning', 'pack', 'ğŸ’¡'),
('Batteries', 'Batterien', 'Household & Cleaning', 'pack', 'ğŸ”‹'),
('Sponge', 'Schwamm', 'Household & Cleaning', 'pack', 'ğŸ§½'),
('Bleach', 'Bleichmittel', 'Household & Cleaning', 'bottle', 'ğŸ§ª'),
('Glass Cleaner', 'Glasreiniger', 'Household & Cleaning', 'bottle', 'ğŸªŸ'),
('Foil', 'Alufolie', 'Household & Cleaning', 'roll', 'ğŸ¥ˆ'),
('Plastic Wrap', 'Frischhaltefolie', 'Household & Cleaning', 'roll', 'ğŸŒ¯'),
('Napkins', 'Servietten', 'Household & Cleaning', 'pack', 'ğŸ¤§'),
('Tissues', 'TaschentÃ¼cher', 'Household & Cleaning', 'box', 'ğŸ¤§'),

-- Personal Care
('Toothpaste', 'Zahnpasta', 'Personal Care', 'tube', 'ğŸ¦·'),
('Shampoo', 'Shampoo', 'Personal Care', 'bottle', 'ğŸ§´'),
('Soap', 'Seife', 'Personal Care', 'pcs', 'ğŸ§¼'),
('Body Wash', 'Duschgel', 'Personal Care', 'bottle', 'ğŸš¿'),
('Conditioner', 'SpÃ¼lung', 'Personal Care', 'bottle', 'ğŸ§´'),
('Deodorant', 'Deo', 'Personal Care', 'pcs', 'ğŸ‘ƒ'),
('Razor', 'Rasierer', 'Personal Care', 'pack', 'ğŸª’'),
('Shaving Cream', 'Rasierschaum', 'Personal Care', 'can', 'ğŸª’'),
('Lotion', 'Creme', 'Personal Care', 'bottle', 'ğŸ§´'),
('Sunscreen', 'Sonnencreme', 'Personal Care', 'bottle', 'â˜€ï¸'),
('Floss', 'Zahnseide', 'Personal Care', 'pack', 'ğŸ¦·')

on conflict (name) do update 
  set name_de = excluded.name_de, 
      category_name = excluded.category_name,
      default_unit = excluded.default_unit,
      icon = excluded.icon;
